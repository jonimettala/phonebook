{"version":3,"sources":["services/persons.js","Filter.js","PersonForm.js","Persons.js","Notice.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","name","number","put","delete","Filter","filter","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","person","handleDelete","onClick","Persons","persons","map","errorStyle","color","Notice","notice","className","style","text","App","useState","setPersons","setNewName","setNewNumber","setFilter","setNotice","useEffect","personService","initPersons","nameIsInPhonebook","window","confirm","updatedPerson","newPersons","personIndex","splice","handleShowNotice","setTimeout","personsToShow","includes","e","target","preventDefault","length","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8ab2a038.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/notes'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, name, number) => {\n  const request = axios.put(baseUrl + `/${id}`, { name: name, number: number })\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(baseUrl + `/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <>\n      filter shown with <input value={filter} onChange={handleFilterChange} /><br />\n    </>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n    return (\n        <form onSubmit={addPerson}>\n        <div>\n          <h2>Add new</h2>\n          name: <input value={newName} onChange={handleNameChange} /><br />\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type='submit'>add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ person, handleDelete }) => {\n  return (\n    <>\n      {person.name} {person.number} <button onClick={() => handleDelete(person.name, person.id)}>delete</button><br />\n    </>\n  )\n}\n\nconst Persons = ({ persons, handleDelete }) => {\n  return persons.map((person) => <Person person={person} key={person.name} handleDelete={handleDelete} />)\n}\n\nexport default Persons\n","import React from 'react'\n\nimport './Notice.css'\n\nconst errorStyle = {\n  color: 'red'\n}\n\nconst Notice = ({ notice }) => {\n  return (\n    <div className='notice' style={notice.type === 'error' ? errorStyle : null}>\n      <p>{notice.text}</p>\n    </div>\n  )\n}\n\nexport default Notice\n","import React, { useEffect, useState } from 'react'\n\nimport personService from './services/persons'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport Notice from './Notice'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notice, setNotice ] = useState(null)\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleFilterChange = (e) => {\n    setFilter(e.target.value)\n  }\n  const fetchPersons = () => {\n    personService\n      .getAll()\n      .then(initPersons => {\n        setPersons(initPersons)\n      })\n  }\n  useEffect(fetchPersons, [])\n\n  const addPerson = (e) => {\n    e.preventDefault()\n    if (newName.length > 0 && !nameIsInPhonebook(newName, newNumber)) {\n      personService\n        .create({ name: newName, number: newNumber })\n        .then(response => {\n      setPersons(persons.concat(response))\n      handleShowNotice(`Added ${newName}`)\n      })\n    }\n  }\n\n  const nameIsInPhonebook = (name, newNumber) => {\n    for (let person of persons) {\n      if (person.name === name) {\n        let wantsUpdate = window.confirm(`${newName} is already added to phonebook, would you like to replace their number with the new one?`)\n        if (wantsUpdate) {\n          personService\n            .update(person.id, person.name, newNumber)\n            .then(updatedPerson => {\n              const newPersons = persons\n              let personIndex = 0\n              for (let p of newPersons) {\n                if (p.id === person.id) {\n                  newPersons.splice(personIndex, 1, updatedPerson)\n                }\n                personIndex++\n              }\n              setPersons([...newPersons])\n              handleShowNotice(`Updated ${newName}'s number`)\n            })\n        }\n        return true\n      }\n    }\n    return false\n  }\n\n  const handleDelete = (name, id) => {\n    let wantsDelete = window.confirm(`Want to delete ${name}?`);\n    if (wantsDelete) {\n      personService\n        .remove(id)\n        .then(() => {\n          const newPersons = persons\n          let personIndex = 0\n          for (let person of newPersons) {\n            if (person.id === id) {\n              newPersons.splice(personIndex, 1)\n            }\n            personIndex++\n          }\n          setPersons([...newPersons])\n          handleShowNotice(`Removed ${name}`)\n        })\n        .catch(error => { handleShowNotice(`${name} was already removed. Now they have been removed from your list too.`, 'error')\n        const newPersons = persons\n        let personIndex = 0\n        for (let person of newPersons) {\n          if (person.id === id) {\n            newPersons.splice(personIndex, 1)\n          }\n          personIndex++\n        }\n        setPersons([...newPersons])\n      })\n    }\n  }\n\n  const handleShowNotice = (text, type = null) => {\n    setNotice({text: text, type: type})\n    setTimeout(() => {\n      setNotice(null)\n    }, 5000)\n  }\n\n  const personsToShow = persons.filter((person) => person.name.includes(filter))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {notice !== null ? <Notice notice={notice} /> : <></>}\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}